---
- name: Create logical volumes
  lvol:
    vg: "{{ vg_name }}"
    lv: "{{ item[0] }}"
    size: "{{ item[1].get('size') }}VG"

- name: Configure filesystem for LVs
  filesystem:
    fstype: "{{ item[1].get('fs') }}"
    dev: /dev/mapper/{{ vg_name }}-{{ item[0] }}

- name: Create mount point for LVs
  file:
    path: "/{{ item[0] }}"
    state: directory

- name: Mount LVs
  mount:
    path: "/{{ item[0] }}"
    src: /dev/mapper/{{ vg_name }}-{{ item[0] }}
    fstype: "{{ item[1].get('fs') }}"
    state: mounted
...
